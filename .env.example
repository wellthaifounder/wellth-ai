# ==============================================================================
# Wellth.ai Environment Configuration
# ==============================================================================
#
# SECURITY NOTICE:
# - Never commit the actual .env file to version control
# - Store secrets in a secure password manager (1Password, AWS Secrets Manager, etc.)
# - Use different values for development, staging, and production
#
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Replace all placeholder values with your actual credentials
# 3. Add .env to .gitignore (already included)
#
# ==============================================================================

# ------------------------------------------------------------------------------
# Supabase Configuration
# ------------------------------------------------------------------------------
# Get these from: https://app.supabase.com/project/YOUR_PROJECT/settings/api

# Your Supabase project URL
# Example: https://fzmdfhdfvayaalhogskm.supabase.co
VITE_SUPABASE_URL=your_supabase_project_url

# Supabase anonymous/public key (safe to expose in frontend)
# Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# Supabase service role key (NEVER expose in frontend, backend only)
# Used by edge functions for administrative operations
# Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# ------------------------------------------------------------------------------
# Stripe Configuration
# ------------------------------------------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys

# Stripe publishable key (safe to expose in frontend)
# Use test key (pk_test_...) for development
# Use live key (pk_live_...) for production
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe secret key (NEVER expose in frontend, backend only)
# Used by edge functions for subscription management
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe webhook secret (for verifying webhook signatures)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe price IDs for subscription tiers
# Get from: https://dashboard.stripe.com/products
STRIPE_PRICE_ID_PLUS=price_your_plus_tier_price_id
STRIPE_PRICE_ID_PREMIUM=price_your_premium_tier_price_id

# ------------------------------------------------------------------------------
# Plaid Configuration
# ------------------------------------------------------------------------------
# Get these from: https://dashboard.plaid.com/team/keys

# Plaid client ID
PLAID_CLIENT_ID=your_plaid_client_id

# Plaid secret (use sandbox secret for development)
PLAID_SECRET=your_plaid_secret

# Plaid environment: sandbox | development | production
# Use 'sandbox' for testing without real bank credentials
PLAID_ENV=sandbox

# ------------------------------------------------------------------------------
# Gemini AI Configuration
# ------------------------------------------------------------------------------
# Get API key from: https://aistudio.google.com/app/apikey

# Gemini API key for AI features (bill analysis, chat)
GEMINI_API_KEY=your_gemini_api_key

# ------------------------------------------------------------------------------
# Encryption Keys
# ------------------------------------------------------------------------------
# CRITICAL: These keys encrypt sensitive data (Plaid tokens)
# Generate using: openssl rand -base64 32

# Main encryption key for Plaid access tokens (AES-256-GCM)
# MUST be exactly 32 bytes (44 characters in base64)
# Required for: plaid-exchange-token, plaid-sync-transactions edge functions
PLAID_ENCRYPTION_KEY=generate_with_openssl_rand_base64_32

# One-time migration admin key (only needed for migrating existing tokens)
# Can be removed after initial migration is complete
# MIGRATION_ADMIN_KEY=generate_with_openssl_rand_base64_32

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------

# Allowed CORS origin (your frontend URL)
# Development: http://localhost:5173
# Production: https://wellth.ai or https://your-custom-domain.com
ALLOWED_ORIGIN=http://localhost:5173

# Node environment: development | production
NODE_ENV=development

# Application URL (used for OAuth redirects, emails, etc.)
# Development: http://localhost:5173
# Production: https://wellth.ai
VITE_APP_URL=http://localhost:5173

# ------------------------------------------------------------------------------
# Optional: Email Configuration (if using custom email service)
# ------------------------------------------------------------------------------

# SMTP settings for transactional emails (optional)
# SMTP_HOST=smtp.your-email-provider.com
# SMTP_PORT=587
# SMTP_USER=your_smtp_username
# SMTP_PASS=your_smtp_password
# SMTP_FROM=noreply@wellth.ai

# ------------------------------------------------------------------------------
# Optional: Analytics & Monitoring
# ------------------------------------------------------------------------------

# Google Analytics measurement ID (optional)
# VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Sentry DSN for error tracking (optional)
# VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ------------------------------------------------------------------------------
# Development Tools
# ------------------------------------------------------------------------------

# Enable React Query devtools in development
# VITE_ENABLE_REACT_QUERY_DEVTOOLS=true

# Enable verbose logging in development
# VITE_ENABLE_VERBOSE_LOGGING=true

# ==============================================================================
# VERIFICATION CHECKLIST
# ==============================================================================
# Before deploying, verify:
# [ ] All placeholder values replaced with real credentials
# [ ] Encryption keys generated (32 bytes base64)
# [ ] Supabase secrets set: supabase secrets set KEY_NAME="value"
# [ ] Stripe webhooks configured with correct endpoint
# [ ] Plaid environment set correctly (sandbox/development/production)
# [ ] ALLOWED_ORIGIN matches your actual domain
# [ ] .env file NOT committed to git
# ==============================================================================

# ==============================================================================
# HELPFUL COMMANDS
# ==============================================================================
#
# Generate encryption key:
#   openssl rand -base64 32
#
# Set Supabase secrets (in edge functions):
#   supabase secrets set PLAID_ENCRYPTION_KEY="your_key_here"
#   supabase secrets list
#
# Test Plaid connection:
#   curl -X POST https://sandbox.plaid.com/link/token/create \
#     -H "Content-Type: application/json" \
#     -d '{"client_id":"YOUR_ID","secret":"YOUR_SECRET",...}'
#
# ==============================================================================
